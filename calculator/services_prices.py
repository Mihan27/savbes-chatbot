# calculator/services_prices.py
# Модуль с ценами на различные электромонтажные услуги

"""
Файл для хранения цен на все услуги компании САВБЕС.
Здесь можно легко редактировать расценки, коэффициенты и другие параметры,
влияющие на стоимость.
"""

# Базовые ставки за квадратный метр для разных типов помещений
AREA_RATES = {
    "apartment": 1000,    # Квартира
    "house": 1200,        # Дом/коттедж
    "office": 950,        # Офис
    "commercial": 900,    # Коммерческое помещение
    "industrial": 1500    # Промышленное помещение
}

# Минимальные площади для разных типов объектов
MIN_AREAS = {
    "apartment": 5,     # кв.м
    "house": 10,        # кв.м
    "office": 10,       # кв.м
    "commercial": 15,   # кв.м
    "industrial": 20    # кв.м
}

# ==========================================================================
# КОЭФФИЦИЕНТЫ
# ==========================================================================

# Коэффициенты для материалов стен/потолков
WALL_COEFFICIENTS = {
    "drywall": 0.9,     # Гипсокартон (проще прокладывать)
    "brick": 1.0,       # Кирпич (стандарт)
    "concrete": 1.2,    # Бетон (сложнее работать)
    "wood": 0.95,       # Дерево (относительно простой материал)
    "block": 1.1,       # Газоблок/пеноблок (требует особых техник)
    "stretch": 1.2      # Натяжной потолок (для светильников)
}

# Копия для совместимости со специализированными калькуляторами
WALL_MATERIAL_COEFFICIENTS = {
    "drywall": 0.9,     # Гипсокартон (проще прокладывать)
    "brick": 1.0,       # Кирпич (стандарт)
    "concrete": 1.2,    # Бетон (сложнее работать)
    "wood": 0.95,       # Дерево (относительно простой материал)
    "block": 1.1,       # Газоблок/пеноблок (требует особых техник)
    "stretch": 1.2      # Натяжной потолок (для светильников)
}

# Коэффициенты для типов потолков (для светильников)
CEILING_COEFFICIENTS = {
    "drywall": 1.0,      # Гипсокартон (стандарт)
    "stretch": 1.2,      # Натяжной потолок
    "concrete": 1.3,     # Бетонный потолок
    "wood": 0.9,         # Деревянный потолок
    "armstrong": 0.8     # Подвесной потолок типа Армстронг
}

# Коэффициенты сложности монтажа
COMPLEXITY_COEFFICIENTS = {
    "easy": 0.9,         # Простой монтаж
    "standard": 1.0,     # Стандартная сложность
    "complex": 1.3,      # Сложный монтаж
    "very_complex": 1.5  # Очень сложный монтаж
}

# Коэффициенты для сечения кабеля
CABLE_SECTION_COEFFICIENTS = {
    "1.5": 1.0,         # 1.5 мм²
    "2.5": 1.1,         # 2.5 мм²
    "4.0": 1.2,         # 4.0 мм²
    "6.0": 1.3,         # 6.0 мм²
    "10.0": 1.5         # 10.0 мм²
}

# ==========================================================================
# ЦЕНЫ НА УСЛУГИ
# ==========================================================================

# РАЗДЕЛ 1: ОСВЕЩЕНИЕ
# ==========================================================================

# Цены на монтаж осветительных приборов
LIGHTING_PRICES = {
    "spot": 650,         # Точечный светильник
    "pendant": 1500,     # Подвесной светильник/люстра
    "wall": 800,         # Настенный светильник/бра
    "track": 1200,       # Трековый светильник
    "led_strip": 900,    # Светодиодная лента (за метр)
    "decorative": 1800,  # Декоративная подсветка
    "chandelier": 2500,  # Сложная люстра
    "outdoor": 1500,     # Уличное освещение
    "garden": 1200       # Садовое освещение
}

# РАЗДЕЛ 2: РОЗЕТКИ И ВЫКЛЮЧАТЕЛИ
# ==========================================================================

# Цены на монтаж розеток, выключателей и другой электрофурнитуры
SOCKET_PRICES = {
    "socket_single": 350,    # Розетка одинарная
    "socket_double": 400,    # Розетка двойная
    "socket_power": 450,     # Розетка силовая
    "switch_single": 350,    # Выключатель одноклавишный
    "switch_double": 400,    # Выключатель двухклавишный
    "switch_triple": 450,    # Выключатель трехклавишный
    "dimmer": 500,           # Диммер
    "socket_network": 450,   # Интернет-розетка RJ-45
    "socket_tv": 400,        # ТВ-розетка
    "socket_phone": 400,     # Телефонная розетка
    "floor_socket": 600      # Напольная розетка
}

# РАЗДЕЛ 3: ЭЛЕКТРОЩИТЫ
# ==========================================================================

# Базовые расценки для типов щитов
PANEL_BASE_RATES = {
    "apartment": 5000,   # Квартирный щиток
    "house": 8000,       # Щит для частного дома
    "floor": 10000,      # Этажный щит
    "industrial": 15000  # Промышленный щит
}

# Цены на монтаж различных устройств в электрощитах
PANEL_DEVICE_PRICES = {
    "circuit_breaker_1p": 350,  # Автомат однополюсный
    "circuit_breaker_2p": 450,  # Автомат двухполюсный
    "circuit_breaker_3p": 550,  # Автомат трехполюсный
    "rcd_2p": 500,             # УЗО двухполюсное
    "rcd_4p": 700,             # УЗО четырехполюсное
    "contactor": 600,          # Контактор
    "counter": 1500,           # Электросчетчик
    "timer": 800,              # Таймер
    "voltage_relay": 900,      # Реле напряжения
    "diff_auto": 800,          # Дифавтомат
    "phase_control": 1200      # Контроль фаз
}

# РАЗДЕЛ 4: ПРОКЛАДКА КАБЕЛЯ
# ==========================================================================

# Цены на прокладку кабеля
CABLING_PRICES = {
    "open": 100,         # Открытая проводка
    "hidden": 150,       # Скрытая проводка
    "cable_channel": 130, # Проводка в кабель-канале
    "corrugation": 140,  # Проводка в гофре
    "ground": 180,       # Подземная прокладка
    "overhead": 160      # Воздушная прокладка
}

# РАЗДЕЛ 5: ДОПОЛНИТЕЛЬНЫЕ УСЛУГИ
# ==========================================================================

# Стоимость дополнительных услуг для общего калькулятора
ADDITIONAL_SERVICE_PRICES = {
    "security_system": 25000,        # Система безопасности
    "video_surveillance": 20000,     # Видеонаблюдение
    "zazemlenie": 30000,             # Установка заземления
    "molniezashita": 35000,          # Молниезащита
    "smart_home": 45000,             # Умный дом базовый
    "design_project": 15000,         # Консультация по дизайн-проекту
    "power_supply": 25000            # Резервное электроснабжение
}

# Группировки дополнительных услуг по контексту
# (Какие дополнительные услуги предлагать для разных типов калькуляторов)
CONTEXT_SERVICES = {
    "general": [
        "security_system",           # Система безопасности
        "video_surveillance"         # Видеонаблюдение
    ],
    "panel": [
        "zazemlenie",                # Установка заземления
        "power_supply",              # Резервное электроснабжение
        "smart_home"                 # Умный дом базовый
    ],
    "lighting": [
        "design_project",            # Консультация по дизайн-проекту
        "smart_home"                 # Умный дом базовый
    ],
    "cabling": [
        "security_system",           # Система безопасности
        "video_surveillance"         # Видеонаблюдение
    ],
    "socket": [
        "smart_home",                # Умный дом базовый
        "design_project"             # Консультация по дизайн-проекту
    ],
    "design": [
        "smart_home",                # Умный дом базовый
        "security_system"            # Система безопасности
    ],
    "industrial": [
        "zazemlenie",                # Установка заземления
        "molniezashita",             # Молниезащита
        "power_supply"               # Резервное электроснабжение
    ]
}

# ==========================================================================
# СЛОВАРИ С НАЗВАНИЯМИ (для форматирования результатов)
# ==========================================================================

# Названия типов объектов
PROPERTY_TYPE_NAMES = {
    "apartment": "квартира",
    "house": "дом/коттедж",
    "office": "офис",
    "commercial": "коммерческое помещение",
    "industrial": "промышленное помещение"
}

# Названия типов светильников
LIGHT_TYPE_NAMES = {
    "spot": "точечный светильник",
    "pendant": "подвесной светильник/люстра",
    "wall": "настенный светильник/бра",
    "track": "трековый светильник",
    "led_strip": "светодиодная лента (за метр)",
    "decorative": "декоративная подсветка",
    "chandelier": "сложная люстра",
    "outdoor": "уличное освещение",
    "garden": "садовое освещение"
}

# Названия типов потолков
CEILING_TYPE_NAMES = {
    "drywall": "гипсокартон",
    "stretch": "натяжной потолок",
    "concrete": "бетонный потолок",
    "wood": "деревянный потолок",
    "armstrong": "подвесной потолок типа Армстронг"
}

# Названия уровней сложности
COMPLEXITY_LEVEL_NAMES = {
    "easy": "простой монтаж",
    "standard": "стандартная сложность",
    "complex": "сложный монтаж",
    "very_complex": "очень сложный монтаж"
}

# Названия материалов стен
WALL_MATERIAL_NAMES = {
    "drywall": "гипсокартон",
    "brick": "кирпич",
    "concrete": "бетон",
    "wood": "дерево",
    "block": "газоблок/пеноблок"
}

# Названия типов прокладки кабеля
CABLING_TYPE_NAMES = {
    "open": "открытая проводка",
    "hidden": "скрытая проводка",
    "cable_channel": "проводка в кабель-канале",
    "corrugation": "проводка в гофре",
    "ground": "подземная прокладка",
    "overhead": "воздушная прокладка"
}

# Названия типов устройств
DEVICE_TYPE_NAMES = {
    "socket_single": "розетка одинарная",
    "socket_double": "розетка двойная",
    "socket_power": "розетка силовая",
    "switch_single": "выключатель одноклавишный",
    "switch_double": "выключатель двухклавишный",
    "switch_triple": "выключатель трехклавишный",
    "dimmer": "диммер",
    "socket_network": "интернет-розетка RJ-45",
    "socket_tv": "ТВ-розетка",
    "socket_phone": "телефонная розетка",
    "floor_socket": "напольная розетка",
    "circuit_breaker_1p": "автомат однополюсный",
    "circuit_breaker_2p": "автомат двухполюсный",
    "circuit_breaker_3p": "автомат трехполюсный",
    "rcd_2p": "УЗО двухполюсное",
    "rcd_4p": "УЗО четырехполюсное",
    "contactor": "контактор",
    "counter": "электросчетчик",
    "timer": "таймер",
    "voltage_relay": "реле напряжения",
    "diff_auto": "дифавтомат",
    "phase_control": "контроль фаз"
}

# Названия типов щитов
PANEL_TYPE_NAMES = {
    "apartment": "квартирный щиток",
    "house": "щит для частного дома",
    "floor": "этажный щит",
    "industrial": "промышленный щит"
}

# Названия дополнительных услуг
ADDITIONAL_SERVICE_NAMES = {
    "security_system": "Система безопасности",
    "video_surveillance": "Видеонаблюдение",
    "zazemlenie": "Установка системы заземления",
    "molniezashita": "Система молниезащиты",
    "smart_home": "Умный дом (базовая комплектация)",
    "design_project": "Консультация по дизайн-проекту",
    "power_supply": "Резервное электроснабжение"
}

# ==========================================================================
# НЕДОСТАЮЩИЕ КОНСТАНТЫ ДЛЯ КАЛЬКУЛЯТОРОВ
# ==========================================================================

# Для socket_calculator.py
SOCKET_TYPE_NAMES = {
    "socket_single": "Розетка одинарная",
    "socket_double": "Розетка двойная", 
    "socket_power": "Розетка силовая",
    "switch_single": "Выключатель одноклавишный",
    "switch_double": "Выключатель двухклавишный",
    "switch_triple": "Выключатель трехклавишный",
    "dimmer": "Диммер",
    "socket_network": "Интернет-розетка RJ-45",
    "socket_tv": "ТВ-розетка",
    "socket_phone": "Телефонная розетка",
    "floor_socket": "Напольная розетка"
}

# Для price_calculator.py
BASE_POINT_RATES = {
    "apartment": 900,    # Квартиры
    "house": 1000,       # Дома/коттеджи
    "office": 850,       # Офисы
    "commercial": 800,   # Коммерческие помещения  
    "industrial": 1200   # Промышленные помещения
}

# Для совместимости со старыми калькуляторами
LIGHT_TYPES = LIGHTING_PRICES.copy()
SOCKET_TYPES = SOCKET_PRICES.copy()
PANEL_DEVICES = PANEL_DEVICE_PRICES.copy()

# Высоты потолков для расчетов (если нужно)
CEILING_HEIGHTS = {
    "standard": 2.7,     # Стандартная высота
    "high": 3.2,         # Высокие потолки
    "very_high": 4.0     # Очень высокие потолки
}

# ==========================================================================
# ВСПОМОГАТЕЛЬНЫЕ ФУНКЦИИ
# ==========================================================================

def get_formatted_name(data_dict, key, default=None):
    """
    Получает форматированное название по ключу
    
    Args:
        data_dict (dict): Словарь с названиями
        key (str): Ключ для поиска
        default: Значение по умолчанию, если ключ не найден
        
    Returns:
        str: Форматированное название или значение по умолчанию
    """
    if default is None:
        default = key
    return data_dict.get(key, default)

def get_services_for_context(calculator_type):
    """
    Возвращает список актуальных дополнительных услуг для заданного контекста
    
    Args:
        calculator_type (str): Тип калькулятора/услуги
        
    Returns:
        list: Список кодов услуг, актуальных для данного контекста
    """
    # Возвращаем услуги для указанного контекста или общие услуги, если контекст неизвестен
    return CONTEXT_SERVICES.get(calculator_type, CONTEXT_SERVICES.get("general", []))